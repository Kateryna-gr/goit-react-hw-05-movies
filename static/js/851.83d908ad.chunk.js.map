{"version":3,"file":"static/js/851.83d908ad.chunk.js","mappings":"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","sources":["components/SeearchedList/SearchBar.styled.js","components/SeearchedList/SearchedList.jsx","components/SeearchedList/SearchBar.jsx","pages/MoviesPage.jsx"],"sourcesContent":["import styled from 'styled-components';\nimport { Field } from 'formik';\n\nexport const SearchInput = styled(Field)`\n  width: 300px;\n  margin: 10px 16px;\n  //   margin-left: 16px;\n  border: 2px solid #c3acc1;\n  border-radius: 5px;\n\n  &:focus {\n    border: 2px solid #7c5979;\n  }\n\n  :focus-visible {\n    border: 2px solid #7c5979;\n  }\n`;\n\nexport const SearchButton = styled.button`\n  width: 80px;\n  height: 26px;\n  margin-top: 10px;\n  cursor: pointer;\n  background-color: #f5edf5;\n  border: 1px solid #7c5979;\n  border-radius: 5px;\n`;\n\nexport const MovieListLink = styled.li`\n  list-style: square;\n  margin-bottom: 12px;\n  color: #7c5979;\n\n  :link {\n    color: #212121;\n  }\n\n  :visited {\n    color: #9b8099;\n  }\n\n  :hover {\n    font-weight: 700;\n    color: #7c5979;\n  }\n`;\n","import { Link, useLocation } from 'react-router-dom';\nimport { MovieListLink } from './SearchBar.styled';\n\nexport const SearchedList = ({ searchedMovies }) => {\n  const location = useLocation();\n\n  if (searchedMovies.length === 0) {\n    return;\n  }\n\n  return (\n    <div>\n      <ul>\n        {searchedMovies.map(movie => (\n          <MovieListLink key={movie.id}>\n            <Link to={`/movies/${movie.id}`} state={{ from: location }}>\n              {movie.title}\n            </Link>\n          </MovieListLink>\n        ))}\n      </ul>\n    </div>\n  );\n};\n","import { Field, Form, Formik } from 'formik';\nimport { useSearchParams } from 'react-router-dom';\nimport { SearchButton, SearchInput } from './SearchBar.styled';\n\nexport const SearchBar = ({ changeQuery }) => {\n  const [params, setParams] = useSearchParams();\n  const searchQuery = params.get('search') ?? '';\n\n  const handleSumbit = value => {\n    setParams({ search: value });\n  };\n\n  return (\n    <Formik\n      initialValues={{ input: '' }}\n      onSubmit={values => {\n        handleSumbit(values.input);\n      }}\n    >\n      <Form>\n        <Field as=\"label\">\n          Search film:\n          <SearchInput\n            type=\"input\"\n            name=\"input\"\n            value={searchQuery}\n            onInput={changeQuery}\n          />\n        </Field>\n        <SearchButton type=\"submit\">Search</SearchButton>\n      </Form>\n    </Formik>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { fetchMoviesByQuery } from 'api';\nimport { SearchedList } from 'components/SeearchedList/SearchedList';\nimport { SearchBar } from 'components/SeearchedList/SearchBar';\n\nexport default function Movies() {\n  const [params, setParams] = useSearchParams();\n  const searchQuery = params.get('search') ?? '';\n  const [error, setError] = useState(false);\n  const [searchedMovies, setSearchedMovies] = useState([]);\n\n  const changeQuery = evt => {\n    params.set('search', evt.target.value);\n    setParams(params);\n  };\n\n  useEffect(() => {\n    setSearchedMovies([]);\n    async function getSearchingMovies() {\n      if (!searchQuery) return;\n      try {\n        setError(false);\n        const searchingMovies = await fetchMoviesByQuery(searchQuery);\n        if (searchingMovies.results.length === 0) {\n          setError(true);\n          return;\n        }\n        setSearchedMovies(searchingMovies.results);\n      } catch (error) {\n        setError(true);\n      }\n    }\n\n    getSearchingMovies();\n  }, [searchQuery]);\n\n  return (\n    <div>\n      <SearchBar changeQuery={changeQuery} />\n      {error && <div>Films not found!</div>}\n      {searchedMovies.length > 0 && (\n        <SearchedList searchedMovies={searchedMovies} />\n      )}\n    </div>\n  );\n}\n"],"names":["SearchInput","styled","Field","_templateObject","_taggedTemplateLiteral","SearchButton","_templateObject2","MovieListLink","_templateObject3","SearchedList","_ref","searchedMovies","location","useLocation","length","_jsx","children","map","movie","Link","to","concat","id","state","from","title","SearchBar","_params$get","changeQuery","_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","params","setParams","searchQuery","get","Formik","initialValues","input","onSubmit","values","value","search","_jsxs","Form","as","type","name","onInput","Movies","_useState","useState","_useState2","error","setError","_useState3","_useState4","setSearchedMovies","useEffect","_getSearchingMovies","_asyncToGenerator","_regeneratorRuntime","_callee","searchingMovies","_context","prev","next","abrupt","fetchMoviesByQuery","sent","results","t0","stop","apply","arguments","getSearchingMovies","evt","set","target"],"sourceRoot":""}